{% load static %}
<style>
  li :hover {
    background-color: var(--navbar-hover);
  }

  @font-face {
    font-family: 'tilda'; 
    src: url('{% static "fonts/TildaSans-Regular.ttf" %}') format('truetype');
    font-weight: 400; /* Обычный вес */
    font-style: normal; /* Обычный стиль (не курсив) */
  }
</style>

<style>
  .nav {
    position: relative;
  }

  .categories-dropdown {
    display: none;
    position: absolute;
    top: 100%; /* Появляется ниже кнопки */
    left: 0; /* Привязываем к левому краю экрана */
    right: 0; /* Используем всю ширину экрана */
    z-index: 5;
    padding: 15px;
    width: 100%; /* Устанавливаем ширину в 100% экрана */
    max-width: 100vw; /* Ограничиваем максимальную ширину экрана */
  }

  .nav-item:hover + .categories-dropdown,
  .categories-dropdown:hover {
    display: block;
  }

</style>
<ul class="nav nav-underline d-flex justify-content-center border-bottom d-none d-lg-flex" style="font-family: tilda; font-size: larger;">
  <li class="nav-item dropdown">
    <a class="nav-link link-dark {% if request.path == '/catalog/' %}active{% endif %}" href="/catalog/">Каталог <i class="bi bi-chevron-down"></i></a>
  </li>
  <div class="categories-dropdown w-100 bg-light">
    <div class="row rounded shadow p-3">
      <a class="link-underline link-underline-opacity-0 text-dark {% if request.path == '/catalog/' %}active{% endif %}" href="/catalog/">Все двери</a>
      {% for chapter in chapters_with_titles %}
      <div class="col-3" style="font-family: tilda">
          <label class="mt-2">{{ chapter.chapter }}</label>
          <ul class="list-unstyled">
              {% for catalog in catalogs %}
              {% if catalog.chapter == chapter.chapter %}
              <a class="link-underline link-underline-opacity-0 text-dark {% if request.path == '/catalog/' %}active{% endif %}" href="{% url 'catalog_with_slug' catalog.slug %}">
                <li style="font-size: medium;">{{ catalog.title }}</li>
              </a>
              {% endif %}
              {% endfor %}
          </ul>
      </div>
      {% endfor %}
    </div>
  </div>
  <li class="nav-item">
    <a class="nav-link link-dark {% if request.path == '/installation/' %}active{% endif %}" href="/installation/">Установка</a>
  </li>
  <li class="nav-item">
    <a class="nav-link link-dark {% if request.path == '/delivery/' %}active{% endif %}" href="/delivery/">Доставка</a>
  </li>
  <li class="nav-item">
    <a class="nav-link link-dark {% if request.path == '/useful/' %}active{% endif %}" href="/useful/">Полезное</a>
  </li>
  <li class="nav-item">
    <a class="nav-link link-dark {% if request.path == '/news/' %}active{% endif %}" href="/news/">Новости</a>
  </li>
  <li class="nav-item">
    <a class="nav-link link-dark {% if request.path == '/reviews/' %}active{% endif %}" href="/reviews/">Отзывы</a>
  </li>
  <li class="nav-item">
    <a class="nav-link link-dark {% if request.path == '/contacts/' %}active{% endif %}" href="/contacts/">Контакты</a>
  </li>
  </ul>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var dropdown = document.querySelector('.nav-item.dropdown');
      var categoriesDropdown = dropdown.querySelector('.categories-dropdown');
  
      dropdown.addEventListener('mouseenter', function() {
        categoriesDropdown.style.display = 'block';
      });
  
      dropdown.addEventListener('mouseleave', function() {
        categoriesDropdown.style.display = 'none';
      });
    });
  </script>