{% load static %}
<style>

</style>
<header class="container bg-main">
  <div class='d-flex border-bottom'>
    <!-- Мобильная версия -->
    <div class="row mx-auto d-flex d-lg-none justify-content-center align-items-center mt-4 mb-3">
      <div class='col-8 d-flex justify-content-center'>
        <a href="/">
          <img class='img-fluid' src="{% static 'images/logos/logo-paritet.png' %}" alt="Логотип"/>
        </a>
      </div>
      <div class='col-4' style="font-size: x-small;">
        <a href="tel:+79296224835">
          <label class="text-dark">+7 (929) 622-48-35</label>
          <div class="btn btn-outline-danger btn-sm mt-1" style="font-size: x-small; white-space: nowrap;">Обратный звонок</div>
        </a>
      </div>
      <div class="col-10 link-underline-opacity-0">
        <a href="https://wa.me/79296224835" class="" target="_blank">
          <i class="bi bi-whatsapp" style="color: black; font-size: x-large;"></i>
      </a>
        <a href="https://t.me/alex12_alex12" class="ms-4" target="_blank">
          <i class="bi bi-telegram" style="color: black; font-size: x-large;"></i>
        </a>
      </div>
      <div class='col-2'>
        <i class="bi bi-list" id="menuButton" style="font-size: xx-large;"></i>
        <!-- Navbar mobile -->
        <nav id="menu" class="d-none bg-light justify-content-center flex-column text-center w-50 border shadow" style="position: absolute; z-index: 10; right: 10%;">
          <a class="nav-link link-dark p-2 {% if request.path == '/catalog/' %}active{% endif %}" href="#" id="catalogButton">Каталог</a>
          {% for chapter, catalogs in chapters_with_titles.items %}
          <div class="text-center chapter-section d-none" style="font-family: tilda-medium; position: relative;">
            <label class="mt-3 border-bottom">{{ chapter }}</label>
            <ul class="list-unstyled categories-item">
              {% for catalog in catalogs %}
                <a class="link-underline link-underline-opacity-0 text-dark" href="{% url 'catalog_with_slug' catalog.slug %}">
                  <li style="font-size: medium;">
                    {{ catalog.title }} 
                    <label class='text-secondary' style="font-size: small;">{{ catalog.door_count }} шт.</label>
                  </li>
                </a>
              {% endfor %}
            </ul>
          </div>
          {% endfor %}
          <a class="nav-link link-dark p-2 {% if request.path == '/delivery/' %}active{% endif %}" href="/delivery/">Доставка</a>
          <a class="nav-link link-dark p-2 {% if request.path == '/useful/' %}active{% endif %}" href="/useful/">Полезное</a>
          <a class="nav-link link-dark p-2 {% if request.path == '/news/' %}active{% endif %}" href="/news/">Новости</a>
          <a class="nav-link link-dark p-2 {% if request.path == '/reviews/' %}active{% endif %}" href="/reviews/">Отзывы</a>
          <a class="nav-link link-dark p-2 {% if request.path == '/contacts/' %}active{% endif %}" href="/contacts/">Контакты</a>
        </nav>

      </div>
    </div>

    <!-- Десктопная версия -->
    <article class="col-lg-4 d-none d-lg-flex justify-content-center align-items-center">
      <a href="/">
      <img class='img-fluid btn btn-link' src="{% static 'images/logos/logo-paritet.png' %}" alt="Логотип"/>
      </a>
    </article>
    <article class='col-lg-4 d-none d-lg-flex align-items-center justify-content-center'>
      <div class="input-group" style="width: 70%;">
        <input type="text" class="form-control" placeholder="Введите название товара" aria-describedby="basic-addon2">
        <div class="btn bg-dark text-light" id="basic-addon2">Поиск</div>
      </div>
    </article>
    <article class="col-lg-2 d-none d-lg-flex">
      <a href="tel:+79296224835" class="link-dark link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover d-flex flex-column w-100" style="font-size: 10;">
        <p class="text-center mt-3">+7 (929) 622-48-35</p>
        <p class="fw-lighter text-center">Без выходных, 08:00 - 20:00</p>
      </a>
    </article>  
    <article class='col-lg-2 d-none d-lg-flex align-items-center justify-content-center'>
      <div class="link-underline-opacity-0">
        <a href="https://wa.me/79296224835" class="icon-link me-4" style="background-image: url('{% static 'images/icons/wapp-50.png' %}');"></a>
        <a href="https://t.me/alex12_alex12" class="icon-link ms-4" style="background-image: url('{% static 'images/icons/tg-50.png' %}');"></a>
      </div>
    </article>
  </div>


  <!-- Navbar -->
  {% include 'header/navbar.html' %}
</header>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var menuButton = document.getElementById('menuButton');
    var catalogButton = document.getElementById('catalogButton');
    var menu = document.getElementById('menu');
    var chapters = document.getElementsByClassName('chapter-section');

    // Открытие меню при нажатии на кнопку
    menuButton.addEventListener('click', function(event) {
      menu.classList.toggle('d-none');
      menu.classList.toggle('d-flex');
      event.stopPropagation(); // Останавливаем распространение события, чтобы не закрыть меню сразу
    });

    catalogButton.addEventListener('click', function(event) {
      // Переключаем классы для всех элементов с классом chapter-section
      for (var i = 0; i < chapters.length; i++) {
        chapters[i].classList.toggle('d-none');
        chapters[i].classList.toggle('d-block');
      }
      event.stopPropagation();
    });

    // Закрытие меню при клике вне его области
    document.addEventListener('click', function(event) {
      var isClickInside = menu.contains(event.target) || menuButton.contains(event.target);
      if (!isClickInside && !menu.classList.contains('d-none')) {
        menu.classList.add('d-none');
        menu.classList.remove('d-flex');
      }
    });
  });
</script>